<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" 
	  lang="es">
<head>
<meta charset="utf-8" />

<title>DropDown</title>

<link rel='stylesheet' href='/webjars/bootstrap/css/bootstrap.min.css' />
<script src="webjars/jquery/jquery.js"></script>
</head>

<body>
  	<script th:inline="javascript">
  	/*[+
	  	$(function() {
                  
	  		$("#idCarrera").load('/ajax/brands', $("#idFacultad").serialize());
		  	$('#idFacultad').on('change', function() {
                                alert("funciona");
		  		$("#idCarrera").load('/ajax/brands', $("#idFacultad").serialize());
		  	});
	  	});

	+]*/ 
	</script>
    
	<div class="container">
            <div class="page-header">
                    <h1>Spring boot + thymeleaf + fragments + ajax - dmunozfer.es</h1>
            </div>

            <div id="info-panel">
                    <h3>Informaci√≥n</h3>
                    <p>Ejemplo de uso de carga de <strong>fragmentos de thymeleaf 3</strong> mediante ajax utilizando spring boot.</p>
            </div>

            <div id="form-panel">
                <h3>Formulario</h3>
                <div class="panel panel-primary">
                    <div class="panel-heading">Selecciona el modelo de coche</div>
                    <div class="panel-body">
                        <form th:object="${institucion}" method="post">
                            <div class="form-group">
                                <label for="marca">Marca</label>
                                <select th:field="*{idFacultad}" required="required" class="form-control" >
                                        <option th:each="brand : ${brands}" th:value="${brand.id_carrera}" th:text="${brand.nombre}" />
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="modelo">Modelo</label>
                                <select th:field="*{idCarrera}" required="required" class="form-control">
                                        <option th:fragment="models" th:each="model : ${models}" th:value="${model}" th:text="${model}" />
                                </select>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
	</div>
</body>
</html>
